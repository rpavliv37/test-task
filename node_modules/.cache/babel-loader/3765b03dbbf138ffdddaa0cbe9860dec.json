{"ast":null,"code":"import { useState, useEffect, useRef } from 'react';\nexport const useMessages = () => {\n  const [messages, setMessages] = useState([]);\n  const webSocket = useRef(null);\n  useEffect(() => {\n    webSocket.current = new WebSocket(\"wss://www.bitmex.com/realtime?subscribe=trade\");\n\n    webSocket.current.onmessage = message => {\n      setMessages(prevMessages => [...prevMessages, message.data]);\n    };\n\n    return () => webSocket.current.close();\n  }, []);\n  return messages;\n};","map":{"version":3,"sources":["/Users/user/Documents/testing-task/src/components/CompanyNews/useMessage.ts"],"names":["useState","useEffect","useRef","useMessages","messages","setMessages","webSocket","current","WebSocket","onmessage","message","prevMessages","data","close"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,MAA9B,QAA4C,OAA5C;AAEA,OAAO,MAAMC,WAAW,GAAG,MAAM;AAC/B,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BL,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAMM,SAAS,GAAGJ,MAAM,CAAC,IAAD,CAAxB;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACbK,IAAAA,SAAD,CAAmBC,OAAnB,GAA6B,IAAIC,SAAJ,CAAc,+CAAd,CAA7B;;AACCF,IAAAA,SAAD,CAAmBC,OAAnB,CAA2BE,SAA3B,GAAwCC,OAAD,IAAkB;AACvDL,MAAAA,WAAW,CAAEM,YAAD,IAAkB,CAAC,GAAGA,YAAJ,EAAkBD,OAAO,CAACE,IAA1B,CAAnB,CAAX;AAAsE,KADxE;;AAGA,WAAO,MAAON,SAAD,CAAmBC,OAAnB,CAA2BM,KAA3B,EAAb;AACD,GANQ,EAMP,EANO,CAAT;AAQA,SAAOT,QAAP;AACD,CAbM","sourcesContent":["import { useState, useEffect, useRef } from 'react';\n\nexport const useMessages = () => {\n  const [messages, setMessages] = useState([]);\n  const webSocket = useRef(null);\n\n  useEffect(() => {\n    (webSocket as any).current = new WebSocket(\"wss://www.bitmex.com/realtime?subscribe=trade\");\n    (webSocket as any).current.onmessage = (message: any) => {\n      setMessages((prevMessages) => [...prevMessages, message.data] as any)};\n\n    return () => (webSocket as any).current.close();\n  },[]);\n  \n  return messages;\n};"]},"metadata":{},"sourceType":"module"}